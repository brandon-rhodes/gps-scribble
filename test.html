<html>
  <head>
    <meta charset="utf-8" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css"
      integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
      crossorigin=""
      />
    <script
      src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"
      integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA=="
      crossorigin=""
      ></script>
    <script src="L.timezones.js"></script>
    <script
      src="https://unpkg.com/leaflet-ajax@2.1.0/dist/leaflet.ajax.js"
      ></script>
    <script
      type="text/javascript"
      src="http://maps.stamen.com/js/tile.stamen.js?v1.3.0"
      ></script>
    <style>
      #map {height: 80%; width: 98%;}
      .my-div-icon {
          border: 2px solid black;
          border-radius: 4px;
      }
      .my-tooltip {
          border: none;
          background: none;
          box-shadow: none;
          line-height: 1em;
      }
      .my-tooltip::before {
          content: none;
      }
    </style>
  </head>
  <body>
    2019 August 25 â€”
    1.77 miles in 0:50:28 at 2.11 miles per hour
    <div id="map" style="border: 5px solid black"></div>
    <table>
      <tr>
        <th>Mile</th>
        <th>Duration</th>
        <th>MPH</th>
      </tr>
      <tr>
        <td>1</td>
        <td>30:43</td>
        <td>1.95</td>
      </tr>
      <tr>
        <td>2</td>
        <td>19:44</td>
        <td>2.35</td>
      </tr>
    </table>
    <script>

var map = L.map('map');

var s_layer = new L.StamenTileLayer("terrain");
map.addLayer(s_layer);

      //var layer = new L.GeoJSON.AJAX("test.json");
      latlngs = [[39.6337052, -84.3934844], [39.633478, -84.3929917], [39.6332936, -84.3925634], [39.6333479, -84.3923831], [39.633394, -84.3921961], [39.6331481, -84.3917672], [39.6328629, -84.3913564], [39.6324936, -84.3911239], [39.6322759, -84.3909068], [39.631851, -84.3908307], [39.6315082, -84.390771], [39.6313689, -84.390266], [39.6313691, -84.3901787], [39.6310902, -84.390002], [39.6310638, -84.3900171], [39.6308233, -84.3901847], [39.6308018, -84.3901546], [39.6303994, -84.3900907], [39.6305399, -84.3904255], [39.6303157, -84.390711], [39.6302095, -84.3907519], [39.6301549, -84.3907811], [39.6300534, -84.3909089], [39.6299109, -84.3912389], [39.6298706, -84.3912538], [39.6298453, -84.3912584], [39.6294612, -84.3915454], [39.6292862, -84.3915926], [39.6291591, -84.3916456], [39.6291083, -84.3916662], [39.6290617, -84.3916776], [39.6287241, -84.3915942], [39.6282796, -84.3917058], [39.6278385, -84.3918123], [39.627394, -84.3919372], [39.6269762, -84.3921855], [39.6265583, -84.3924067], [39.6261242, -84.3925834], [39.6256881, -84.3927345], [39.6252597, -84.3929114], [39.6250355, -84.3928778], [39.6246069, -84.392683], [39.6242292, -84.392357], [39.6238185, -84.3921127], [39.6237233, -84.3920761], [39.6234905, -84.392106], [39.623271, -84.3922427], [39.6228678, -84.39203], [39.6225883, -84.3917263], [39.6225543, -84.3916077], [39.6225339, -84.3915337], [39.6222941, -84.3911925], [39.6219417, -84.3908274], [39.6215461, -84.3905374], [39.6211303, -84.3902981], [39.6207934, -84.3899046], [39.6204379, -84.3895273], [39.6200327, -84.3892661], [39.6196325, -84.3890071], [39.6192552, -84.3886833], [39.6189056, -84.3883156], [39.6185376, -84.3879364], [39.6181659, -84.3875968], [39.6179444, -84.387323], [39.6179381, -84.3873118], [39.6176226, -84.3868971], [39.6175435, -84.3867507], [39.6172818, -84.3862768], [39.617037, -84.3857754], [39.6169373, -84.3852359], [39.617068, -84.3847027], [39.6169961, -84.3844452], [39.6166214, -84.3841951], [39.6164429, -84.38366], [39.6162443, -84.3831962]];
      // [
      //               [
      //                   39.34472609280829,
      //                   -120.60503262123328
      //               ],
      //               [
      //                   39.344836566292145,
      //                   -120.60479658683984
      //               ]
      // ]
      // ;
      layer = L.polyline(latlngs, {color: 'red'});

layer.addTo(map);
      console.log(layer.getBounds());
      //map.fitBounds(layer.getBounds());
//      layer.on('data:loaded', function() {
          map.fitBounds(layer.getBounds());
//      });

      var icons = [{"lat": 39.62373076338774, "lon": -84.39207896932764, "label": "1.0 mi<br>2:57 pm"}];

      for (i=0; i < icons.length; i++) {
          var icon = icons[i];

          var myIcon = L.divIcon({
              className: 'my-div-icon',
              iconSize: 4
          });

          var marker = L.marker([icon['lat'], icon['lon']], {
              icon: myIcon
          })
              .bindTooltip(icon['label'],
                           {
                               permanent: true,
                               direction: 'right',
                               className: 'my-tooltip'
                           }
                          ).addTo(map);
      }

// label = new L.Tooltip()
// label.setContent("static label")
// label.setLatLng([39.33180329358755, -120.57330166947717])
//       //map.add(label);
//       label.addTo(map);

/*
 gpsbabel -i garmin_fit -f ~/Downloads/96270558.FIT -o geojson -F test.json
*/

    </script>
  </body>
</html>
